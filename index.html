<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Nelle Kristoff — Art Portfolio</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<style>
/* base */
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,Arial,sans-serif;
  background:#EFE7DC;
  color:#2F2A26;
  line-height:1.6;
  opacity:0; /* start hidden */
}
html.ready body{ animation:fadein 2.6s ease-in-out forwards; }
body.noscroll{ overflow:hidden; }

header{
  position:relative;
  text-align:center;
  padding:clamp(28px,6vh,70px) 20px 8px;
}
h1{
  font-weight:500;
  letter-spacing:3px;
  margin:0 0 4px;
  font-size:26px;
  text-transform:uppercase;
}
.subtitle{
  margin:6px 0 10px;
  opacity:.55;
  font-size:14px;
  letter-spacing:.3px;
}

/* hamburger menu */
.menu-btn{
  position:absolute;
  top:18px;
  right:18px;
  width:44px;
  height:44px;
  border:0;
  background:transparent;
  cursor:pointer;
  padding:10px;
}
.menu-btn span{
  display:block;
  height:2px;
  background:#2F2A26;
  margin:6px 0;
  border-radius:2px;
  opacity:.9;
}
.menu{
  position:absolute;
  top:62px;
  right:18px;
  background:rgba(239,231,220,.96);
  border:1px solid rgba(47,42,38,.18);
  border-radius:12px;
  padding:10px;
  display:none;
  min-width:170px;
  box-shadow:0 14px 40px rgba(0,0,0,.12);
  backdrop-filter:blur(6px);
  z-index:10;
}
.menu.open{ display:block; }
.menu a{
  display:block;
  padding:10px 12px;
  text-decoration:none;
  color:#2F2A26;
  font-size:13px;
  letter-spacing:.2px;
  opacity:.9;
  border-radius:10px;
}
.menu a:hover{ background:rgba(47,42,38,.08); }

/* main film roll */
.film-main{
  width:min(96vw, 1400px);
  height:min(62vh, 720px);
  margin:0 auto;
  display:grid;
  place-items:center;
  padding:6px 0 6px;
  position:relative; /* for arrows */
  touch-action:manipulation;
}
.film{
  width:100%;
  height:100%;
  display:grid;
  place-items:center;
  position:relative;
  perspective:1200px;
  transform-style:preserve-3d;
  user-select:none;
}
.film-img{
  position:absolute;
  max-width:68%;
  max-height:82%;
  object-fit:contain;

  background:#fff;
  padding:16px;

  box-shadow:
    inset 0 0 28px rgba(0,0,0,.16),
    0 14px 50px rgba(0,0,0,.35);

  border-radius:2px;
  transition:transform .55s cubic-bezier(.2,.9,.2,1), opacity .55s cubic-bezier(.2,.9,.2,1), filter .55s cubic-bezier(.2,.9,.2,1);
  will-change:transform, opacity, filter;
}

/* center flat */
.film-current{
  transform:translateZ(130px) scale(1);
  opacity:1;
  filter:none;
  cursor:pointer;
}

/* sides bent like film roll */
.film-prev{
  transform:translateX(-56%) rotateY(60deg) scale(.92);
  opacity:.62;
  filter:saturate(.9) contrast(.95);
}
.film-next{
  transform:translateX(56%) rotateY(-60deg) scale(.92);
  opacity:.62;
  filter:saturate(.9) contrast(.95);
}

/* Film arrows (for phone + desktop) */
.film-arrows{
  position:absolute;
  inset:0;
  pointer-events:none;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 10px;
}
.film-arrow{
  pointer-events:auto;
  width:52px;
  height:52px;
  border-radius:999px;
  border:1px solid rgba(47,42,38,.28);
  background:rgba(239,231,220,.78);
  backdrop-filter:blur(6px);
  display:grid;
  place-items:center;
  cursor:pointer;
  box-shadow:0 10px 24px rgba(0,0,0,.14);
  transition:transform .2s ease, background .2s ease, opacity .2s ease;
  opacity:.92;
}
.film-arrow:hover{ background:rgba(239,231,220,.92); transform:scale(1.03); }
.film-arrow:active{ transform:scale(.98); }
.film-arrow svg{ width:18px; height:18px; }

.film-hint{
  position:absolute;
  bottom:10px;
  left:50%;
  transform:translateX(-50%);
  font-size:12px;
  opacity:.55;
  letter-spacing:.2px;
  text-align:center;
  padding:6px 10px;
  border-radius:999px;
  background:rgba(239,231,220,.62);
  border:1px solid rgba(47,42,38,.12);
  backdrop-filter:blur(6px);
}

/* gallery grid */
.gallery{
  max-width:1200px;
  margin:0 auto;
  padding:12px 30px 30px;
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(280px, 1fr));
  gap:34px;
}
.card{ cursor:pointer; }
.card img{
  width:100%;
  height:auto;
  display:block;
  transition:transform .4s ease, opacity .4s ease;
  max-height:80vh;
  object-fit:contain;
}
.card:hover img{
  transform:scale(1.035);
  opacity:.96;
}
.caption{
  margin-top:12px;
  font-size:13px;
  opacity:.7;
  letter-spacing:.2px;
  display:flex;
  justify-content:space-between;
  gap:12px;
  align-items:center;
}
.actions{ display:flex; gap:10px; }

.inquire-btn,.collect-btn{
  padding:8px 14px;
  font-size:13px;
  border:1px solid #000;
  background:transparent;
  color:#000;
  text-decoration:none;
  border-radius:4px;
}
.inquire-btn:hover,.collect-btn:hover{
  background:#000;
  color:#fff;
}

/* SINGLE image lightbox */
.lightbox{
  position:fixed;
  inset:0;
  width:100vw;
  height:100vh;
  background:rgba(0,0,0,.9);
  display:none;
  align-items:center;
  justify-content:center;
  cursor:zoom-out;
  z-index:2147483647;
  isolation:isolate;
}
.lightbox.open{ display:flex; }
.lightbox img{
  width:auto;
  height:auto;
  max-width:min(92vw, 1400px);
  max-height:92vh;
  object-fit:contain;

  background:#fff;
  padding:16px;

  box-shadow:
    inset 0 0 28px rgba(0,0,0,.16),
    0 14px 50px rgba(0,0,0,.35);

  border-radius:2px;
  cursor:auto;
}

footer{
  text-align:center;
  padding:60px 20px;
  font-size:13px;
  opacity:.5;
}

@keyframes fadein{
  from{ opacity:0; }
  to{ opacity:1; }
}

@media (prefers-reduced-motion: reduce){
  html.ready body{ animation:none !important; }
  body{ opacity:1 !important; }
  .film-img, .card img{ transition:none !important; }
}
</style>
</head>

<body>

<header>
  <h1>Nelle Kristoff</h1>
  <div class="subtitle">Selected Works</div>

  <!-- hamburger -->
  <button class="menu-btn" id="menuBtn" aria-label="Open menu" aria-expanded="false">
    <span></span><span></span><span></span>
  </button>

  <nav class="menu" id="menu" aria-label="Site menu">
    <a href="#about">About</a>
    <a href="#" onclick="contact(event)">Contact</a>
    <a href="#posts">Posts</a>
  </nav>
</header>

<!-- MAIN PAGE FILM ROLL -->
<div class="film-main" id="filmMain">
  <div class="film" id="film" aria-label="Artwork film roll">
    <img class="film-img film-prev" id="filmPrev" alt="" />
    <img class="film-img film-current" id="filmCurrent" alt="Open artwork" />
    <img class="film-img film-next" id="filmNext" alt="" />
  </div>

  <!-- phone + desktop arrows (press & hold) -->
  <div class="film-arrows" aria-hidden="false">
    <button class="film-arrow" id="arrowLeft" aria-label="Previous artwork (press and hold)">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M15 18l-6-6 6-6"/>
      </svg>
    </button>

    <button class="film-arrow" id="arrowRight" aria-label="Next artwork (press and hold)">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M9 6l6 6-6 6"/>
      </svg>
    </button>
  </div>

  <div class="film-hint">Hold ◀︎ / ▶︎ (or arrow keys) • Click the center image to enlarge</div>
</div>

<section class="gallery">
  <div class="card">
    <img src="images/Untitled1.png" onclick="openLightbox(this.src)" alt="Untitled 1" />
    <div class="caption">
      <span>Untitled 1 Unveiling soon</span>
      <div class="actions">
        <a href="#" onclick="contact(event)" class="inquire-btn">Inquire</a>
        <a href="https://collect.nellekristoff.art" target="_blank" class="collect-btn" rel="noopener">Collect</a>
      </div>
    </div>
  </div>

  <div class="card">
    <img src="images/Untitled2.png" onclick="openLightbox(this.src)" alt="Untitled 2" />
    <div class="caption">
      <span>Untitled 2 Unveiling soon</span>
      <div class="actions">
        <a href="#" onclick="contact(event)" class="inquire-btn">Inquire</a>
        <a href="https://collect.nellekristoff.art" target="_blank" class="collect-btn" rel="noopener">Collect</a>
      </div>
    </div>
  </div>

  <div class="card">
    <img src="images/Untitled3.png" onclick="openLightbox(this.src)" alt="Untitled 3" />
    <div class="caption">
      <span>Untitled 3 Unveiling soon</span>
      <div class="actions">
        <a href="#" onclick="contact(event)" class="inquire-btn">Inquire</a>
        <a href="https://collect.nellekristoff.art" target="_blank" class="collect-btn" rel="noopener">Collect</a>
      </div>
    </div>
  </div>
</section>

<!-- SINGLE IMAGE LIGHTBOX -->
<div class="lightbox" id="lightbox" onclick="closeLightbox()">
  <img id="lightboxImg" alt="" onclick="event.stopPropagation()" />
</div>

<footer>
© 2026 Nelle Kristoff — All rights reserved
</footer>

<script>
/* ===== Smooth fade-in ===== */
window.addEventListener("load", () => {
  document.documentElement.classList.add("ready");
});

/* ===== Menu ===== */
const menuBtn = document.getElementById('menuBtn');
const menu = document.getElementById('menu');

function toggleMenu(){
  const isOpen = menu.classList.toggle('open');
  menuBtn.setAttribute('aria-expanded', String(isOpen));
}
menuBtn.addEventListener('click', (e) => {
  e.stopPropagation();
  toggleMenu();
});
document.addEventListener('click', () => {
  menu.classList.remove('open');
  menuBtn.setAttribute('aria-expanded', 'false');
});

/* ===== Contact ===== */
function contact(e){
  if (e) e.preventDefault();
  window.location.href = "mailto:nellekristoff@gmail.com";
}

/* ===== Film roll data ===== */
let gallerySources = [];
let currentIndex = 0;

function collectGallerySources(){
  gallerySources = Array.from(document.querySelectorAll('.gallery .card img'))
    .map(img => img.getAttribute('src'))
    .filter(Boolean);
}

/* Wrap index safely */
function wrapIndex(i, total){
  return ((i % total) + total) % total;
}

function setFilm(index){
  if (!gallerySources.length) collectGallerySources();
  const total = gallerySources.length;
  if (!total) return;

  currentIndex = wrapIndex(index, total);

  const prevIndex = wrapIndex(currentIndex - 1, total);
  const nextIndex = wrapIndex(currentIndex + 1, total);

  document.getElementById('filmPrev').src = gallerySources[prevIndex];
  document.getElementById('filmCurrent').src = gallerySources[currentIndex];
  document.getElementById('filmNext').src = gallerySources[nextIndex];
}

/* ===== Single-image lightbox ===== */
function openLightbox(src){
  document.getElementById('lightboxImg').src = src;
  document.getElementById('lightbox').classList.add('open');
  document.body.classList.add('noscroll');
}
function closeLightbox(){
  document.getElementById('lightbox').classList.remove('open');
  document.body.classList.remove('noscroll');
}

/* Click center film image to open */
document.getElementById('filmCurrent').addEventListener('click', (e) => {
  e.stopPropagation();
  if (!gallerySources.length) collectGallerySources();
  if (!gallerySources.length) return;
  openLightbox(gallerySources[currentIndex]);
});

/* ===== "Breathing" roll control (smooth/inertial) =====
   - Desktop: move mouse left/right gently; it "glides" like slow motion breathing.
   - Phone: press & hold arrows to roll.
   - Keyboard: hold ArrowLeft / ArrowRight to roll.
*/
const filmMain = document.getElementById('filmMain');

let target = 0;        // target index position (float)
let pos = 0;           // current position (float)
let velocity = 0;      // movement velocity
let rafId = null;

const stepPerSecond = 1.05;      // how fast it can roll when fully engaged
const responsiveness = 0.14;     // how quickly it follows the target (0..1)
const damping = 0.86;            // inertia damping (0..1)

let mouseEngage = 0;             // -1..+1 based on pointer position
let holdDir = 0;                // -1, 0, +1 when holding arrows

function startLoop(){
  if (rafId) return;
  rafId = requestAnimationFrame(loop);
}
function stopLoop(){
  if (!rafId) return;
  cancelAnimationFrame(rafId);
  rafId = null;
}

function loop(ts){
  // Convert engagement (mouse/hold) into target drift
  // Hold arrows takes priority
  const engage = holdDir !== 0 ? holdDir : mouseEngage;

  // drift target smoothly (float index)
  target += engage * (stepPerSecond / 60);

  // spring toward target with a gentle "breathing" feel
  const diff = target - pos;
  velocity = (velocity * damping) + (diff * responsiveness);
  pos += velocity;

  // Only update the visible film when we cross to a new integer index
  // (Keeps it stable and avoids jitter)
  if (!gallerySources.length) collectGallerySources();
  const total = gallerySources.length || 0;
  if (total){
    const idx = wrapIndex(Math.round(pos), total);
    if (idx !== currentIndex) setFilm(idx);
  }

  // Keep running while there's engagement or motion still happening
  const stillMoving = Math.abs(velocity) > 0.0008;
  const engaged = Math.abs(engage) > 0.001;

  if (engaged || stillMoving){
    rafId = requestAnimationFrame(loop);
  } else {
    // snap to nearest index when at rest
    pos = Math.round(pos);
    target = pos;
    stopLoop();
  }
}

/* Mouse move engagement */
filmMain.addEventListener('mousemove', (e) => {
  if (!gallerySources.length) return;

  const rect = filmMain.getBoundingClientRect();
  const x = e.clientX - rect.left;
  const ratio = x / rect.width; // 0..1

  // Map to -1..+1 and soften center to feel "breathing"
  // left edge -> -1, center -> 0, right edge -> +1
  let v = (ratio - 0.5) * 2;
  // deadzone in the center
  const dead = 0.18;
  if (Math.abs(v) < dead) v = 0;
  else v = (v - Math.sign(v) * dead) / (1 - dead);

  mouseEngage = v * 0.9; // slightly gentler
  startLoop();
});

filmMain.addEventListener('mouseleave', () => {
  mouseEngage = 0;
  startLoop(); // lets it glide to rest
});

/* Touch: allow tap (no swipe needed), arrows handle rolling */
filmMain.addEventListener('touchstart', () => {
  // no-op; keep simple
}, { passive:true });

/* Press & hold arrows (mouse + touch) */
function bindHold(btn, dir){
  const start = (e) => {
    e.preventDefault();
    holdDir = dir;
    startLoop();
  };
  const end = (e) => {
    e.preventDefault();
    holdDir = 0;
    startLoop(); // glide to rest
  };

  btn.addEventListener('pointerdown', start);
  btn.addEventListener('pointerup', end);
  btn.addEventListener('pointercancel', end);
  btn.addEventListener('pointerleave', end);
}
bindHold(document.getElementById('arrowLeft'), -1);
bindHold(document.getElementById('arrowRight'), +1);

/* Keyboard hold */
let keyLeft = false, keyRight = false;

function updateHoldFromKeys(){
  if (keyLeft && !keyRight) holdDir = -1;
  else if (keyRight && !keyLeft) holdDir = +1;
  else holdDir = 0;
  startLoop();
}

window.addEventListener('keydown', (e) => {
  const lb = document.getElementById('lightbox');
  if (lb.classList.contains('open')) {
    if (e.key === 'Escape') closeLightbox();
    return;
  }

  if (e.key === 'ArrowLeft'){ keyLeft = true; updateHoldFromKeys(); }
  if (e.key === 'ArrowRight'){ keyRight = true; updateHoldFromKeys(); }
});

window.addEventListener('keyup', (e) => {
  if (e.key === 'ArrowLeft'){ keyLeft = false; updateHoldFromKeys(); }
  if (e.key === 'ArrowRight'){ keyRight = false; updateHoldFromKeys(); }
});

/* Init */
window.addEventListener('load', () => {
  collectGallerySources();
  setFilm(0);
  // initialize float positions so animation is stable
  pos = currentIndex;
  target = pos;
});
</script>

</body>
</html>
